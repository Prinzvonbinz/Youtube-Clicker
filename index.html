<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>YouTube Clicker</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    html,body{margin:0;padding:0;font-family:sans-serif;background:#1e232b;color:#fff;}
    #main{max-width:430px;margin:0 auto;padding:10px;}
    .menu{display:none;padding:10px;}
    .active{display:block;}
    .center{display:flex;flex-direction:column;align-items:center;}
    .btn{background:#ff0000;color:#fff;border:none;border-radius:50%;width:130px;height:130px;display:flex;justify-content:center;align-items:center;font-size:24px;margin:20px 0;box-shadow:0 4px 8px #0003;transition:.15s;}
    .btn.twitch{background:#9146ff;}
    .btn img{width:90px;height:90px;border-radius:50%;}
    .btn:active{transform:scale(0.95);}
    .profilepic{width:90px;height:90px;border-radius:50%;background:#333;object-fit:cover;}
    .stat{margin:7px 0;}
    .shopitem{display:flex;align-items:center;justify-content:space-between;margin:12px 0;background:#222;padding:10px 8px;border-radius:10px;}
    .shopitem span{font-size:16px;}
    .shopbtn{background:#00b894;color:#fff;border:none;border-radius:8px;padding:7px 14px;cursor:pointer;}
    .shopbtn:disabled{background:#555;cursor:not-allowed;}
    .tabs{display:flex;justify-content:space-around;margin:18px 0 10px;}
    .tab{padding:8px 16px;border-radius:15px;cursor:pointer;background:#222;}
    .tab.active{background:#ff0000;}
    .input{padding:7px 10px;font-size:16px;border-radius:8px;border:1px solid #333;margin-top:5px;}
    .videolist{max-height:140px;overflow:auto;background:#181c22;margin:10px 0;padding:9px;border-radius:7px;}
    .cutbar{height:22px;width:98%;background:#2e333e;border-radius:9px;margin:10px;overflow:hidden;}
    .cutprog{background:#00b894;height:100%;width:0%;}
    .codebox{background:#222;padding:10px 5px;border-radius:10px;word-break:break-all;}
    .playbtn{background:#eee;color:#111;}
    @media (max-width:600px){
      #main{padding:0;}
      .btn{width:100px;height:100px;}
      .btn img{width:65px;height:65px;}
      .profilepic{width:65px;height:65px;}
    }
  </style>
</head>
<body>
<div id="main">
  <div class="tabs">
    <div class="tab active" onclick="showMenu('game')">YouTube</div>
    <div class="tab" onclick="showMenu('cut')">Cut</div>
    <div class="tab" onclick="showMenu('shop')">Shop</div>
    <div class="tab" onclick="showMenu('profile')">Profil</div>
    <div class="tab" id="twitchTab" style="display:none" onclick="showMenu('twitch')">Twitch</div>
  </div>
  <!-- YouTube Menü -->
  <div class="menu active" id="gameMenu">
    <div class="center">
      <button class="btn" id="ytBtn" onclick="clickClip()">
        <img id="ytPic" src="" alt=""><span id="ytBtnTxt" style="display:none;">Click!</span>
      </button>
      <div class="stat">Clips: <b id="clips">0</b></div>
      <div class="stat">Abonnenten: <b id="subs">0</b></div>
      <div class="stat">Videos: <b id="videos">0</b></div>
      <div class="stat" id="playBtnShow" style="display:none;background:#ffe600;color:#222;padding:8px 10px;border-radius:10px;">Play-Button! <span id="playBtnType"></span></div>
    </div>
  </div>
  <!-- Cut Menü -->
  <div class="menu" id="cutMenu">
    <div class="center">
      <div class="stat">Clips zum Schneiden: <b id="clipscut">0</b></div>
      <input class="input" id="vidName" maxlength="30" placeholder="Video Titel...">
      <button class="shopbtn" onclick="startCut()">Video schneiden</button>
      <div class="cutbar"><div class="cutprog" id="cutprog"></div></div>
      <button class="shopbtn" onclick="uploadVid()" id="uploadBtn" disabled>Hochladen</button>
      <div class="videolist" id="vidlist"></div>
    </div>
  </div>
  <!-- Shop Menü -->
  <div class="menu" id="shopMenu">
    <div class="shopitem"><span>Cutter (Auto Video)<br>Lvl <b id="cutterLvl">0</b></span>
      <button class="shopbtn" id="cutterBtn" onclick="buy('cutter')"></button>
    </div>
    <div class="shopitem"><span>Klicker (Auto Clip)<br>Lvl <b id="clickerLvl">0</b></span>
      <button class="shopbtn" id="clickerBtn" onclick="buy('clicker')"></button>
    </div>
    <div class="shopitem"><span>Streamer (Twitch Auto)<br>Lvl <b id="streamerLvl">0</b></span>
      <button class="shopbtn" id="streamerBtn" onclick="buy('streamer')"></button>
    </div>
    <div class="shopitem"><span>Manager (+5% Speed)<br>Lvl <b id="managerLvl">0</b></span>
      <button class="shopbtn" id="managerBtn" onclick="buy('manager')"></button>
    </div>
  </div>
  <!-- Profil Menü -->
  <div class="menu" id="profileMenu">
    <div class="center">
      <div>
        <label>Youtube-Kanal: </label>
        <input class="input" id="ytName" maxlength="20" placeholder="Name..." value="" onchange="saveProfile()">
      </div>
      <div style="margin:10px 0;">
        <label>Profilbild:</label>
        <input type="file" accept="image/*" onchange="setPic(event,'yt')" style="display:block;">
        <img id="ytPicPrev" class="profilepic" src="" alt="">
      </div>
      <div style="margin:15px 0 0">
        <label>Twitch-Kanal: </label>
        <input class="input" id="twName" maxlength="20" placeholder="Name..." value="" onchange="saveProfile()">
      </div>
      <div style="margin:10px 0;">
        <label>Profilbild:</label>
        <input type="file" accept="image/*" onchange="setPic(event,'tw')" style="display:block;">
        <img id="twPicPrev" class="profilepic" src="" alt="">
      </div>
      <div class="stat">Account-Code: <div class="codebox" id="accCode"></div></div>
      <input class="input" id="codeIn" placeholder="Code einfügen...">
      <button class="shopbtn" onclick="importCode()">Account laden</button>
    </div>
  </div>
  <!-- Twitch Menü -->
  <div class="menu" id="twitchMenu">
    <div class="center">
      <button class="btn twitch" id="twBtn" onclick="clickTwitch()">
        <img id="twPic" src="" alt=""><span id="twBtnTxt" style="display:none;">Twitch!</span>
      </button>
      <div class="stat">Twitch-Subs: <b id="twitchSubs">0</b></div>
      <div class="stat">Streamer-Lvl: <b id="streamerLvl2">0</b></div>
    </div>
  </div>
</div>
<script>
// ==== SPIELDATEN ====
let state = {
  ytName:"", ytPic:"", twName:"", twPic:"",
  clips:0, subs:0, videos:[], clipscut:0, twitchSubs:0,
  upgrades:{cutter:0,clicker:0,streamer:0,manager:0},
  shop:{cutter:30,clicker:25,streamer:50,manager:100},
  cut:{progress:0,cutting:false,vidName:""},
  playBtns:[], // 100k, 1M, 10M, 50M
  code:"",
};
const playBtnReq=[100000,1000000,10000000,50000000];
const playBtnNames=["Silber","Gold","Diamant","Rubin"];
let twitchUnlocked=false;
// ==== HILFSFUNKTIONEN ====
function save(){
  localStorage.setItem("ytclicker",JSON.stringify(state));
  show();
}
function load(){
  let d=localStorage.getItem("ytclicker");
  if(d) state=Object.assign(state,JSON.parse(d));
  if(!state.videos) state.videos=[];
  state.code=genCode();
  show();
}
function genCode(){
  return btoa(unescape(encodeURIComponent(JSON.stringify(state))));
}
function setPic(e,tp){
  let f=e.target.files[0];
  if(!f) return;
  let r=new FileReader();
  r.onload=function(evt){
    if(tp=="yt"){state.ytPic=evt.target.result; document.getElementById("ytPicPrev").src=evt.target.result;document.getElementById("ytPic").src=evt.target.result;}
    if(tp=="tw"){state.twPic=evt.target.result; document.getElementById("twPicPrev").src=evt.target.result;document.getElementById("twPic").src=evt.target.result;}
    save();
  };r.readAsDataURL(f);
}
function importCode(){
  let code=document.getElementById("codeIn").value;
  try{
    let st=JSON.parse(decodeURIComponent(escape(atob(code))));
    state=Object.assign(state,st);
    state.code=genCode();
    save();
    show();
    alert("Account geladen!");
  }catch{alert("Ungültiger Code!");}
}
function saveProfile(){
  state.ytName=document.getElementById("ytName").value;
  state.twName=document.getElementById("twName").value;
  save();
}
function showMenu(m){
  document.querySelectorAll('.menu').forEach(e=>e.classList.remove('active'));
  document.querySelectorAll('.tab').forEach(e=>e.classList.remove('active'));
  if(m=="game"){document.getElementById("gameMenu").classList.add("active");document.querySelectorAll('.tab')[0].classList.add('active');}
  if(m=="cut"){document.getElementById("cutMenu").classList.add("active");document.querySelectorAll('.tab')[1].classList.add('active');}
  if(m=="shop"){document.getElementById("shopMenu").classList.add("active");document.querySelectorAll('.tab')[2].classList.add('active');}
  if(m=="profile"){document.getElementById("profileMenu").classList.add("active");document.querySelectorAll('.tab')[3].classList.add('active');}
  if(m=="twitch"){document.getElementById("twitchMenu").classList.add("active");document.getElementById("twitchTab").classList.add('active');}
  show();
}
function show(){
  document.getElementById("clips").innerText=state.clips|0;
  document.getElementById("subs").innerText=state.subs|0;
  document.getElementById("videos").innerText=state.videos.length;
  document.getElementById("ytPic").src=state.ytPic||"https://upload.wikimedia.org/wikipedia/commons/9/9f/Youtube%28amin%29.png";
  document.getElementById("ytPicPrev").src=state.ytPic||"https://upload.wikimedia.org/wikipedia/commons/9/9f/Youtube%28amin%29.png";
  document.getElementById("twPic").src=state.twPic||"https://static.twitchcdn.net/assets/favicon-32-e29e246c157142c94346.png";
  document.getElementById("twPicPrev").src=state.twPic||"https://static.twitchcdn.net/assets/favicon-32-e29e246c157142c94346.png";
  document.getElementById("ytName").value=state.ytName||"";
  document.getElementById("twName").value=state.twName||"";
  document.getElementById("clipscut").innerText=state.clipscut|0;
  document.getElementById("vidName").value=state.cut.vidName||"";
  // Shop
  document.getElementById("cutterLvl").innerText=state.upgrades.cutter;
  document.getElementById("clickerLvl").innerText=state.upgrades.clicker;
  document.getElementById("streamerLvl").innerText=state.upgrades.streamer;
  document.getElementById("managerLvl").innerText=state.upgrades.manager;
  document.getElementById("cutterBtn").innerText="Kaufen ("+state.shop.cutter+" Clips)";
  document.getElementById("clickerBtn").innerText="Kaufen ("+state.shop.clicker+" Clips)";
  document.getElementById("streamerBtn").innerText="Kaufen ("+state.shop.streamer+" Clips)";
  document.getElementById("managerBtn").innerText="Kaufen ("+state.shop.manager+" Clips)";
  // Video-Liste
  let vhtml="";
  state.videos.slice().reverse().forEach(v=>{vhtml+="<div>🎬 "+v.name+" <span style='color:#aaa;font-size:12px'>("+v.subs+" Abos)</span></div>";});
  document.getElementById("vidlist").innerHTML=vhtml||"Noch keine Videos!";
  // Account code
  document.getElementById("accCode").innerText=state.code;
  // Play-Button
  let pb=-1;for(let i=0;i<playBtnReq.length;i++){if(state.subs>=playBtnReq[i]&&!state.playBtns.includes(i)){state.playBtns.push(i);pb=i;}}
  let pbTxt="";if(pb>=0){pbTxt=playBtnNames[pb]+" Play-Button";document.getElementById("playBtnShow").style.display="block";document.getElementById("playBtnType").innerText=pbTxt;}else{document.getElementById("playBtnShow").style.display="none";}
  // Twitch
  if(state.subs>=2000||twitchUnlocked) {document.getElementById("twitchTab").style.display="flex";twitchUnlocked=true;}
  document.getElementById("twitchSubs").innerText=state.twitchSubs|0;
  document.getElementById("streamerLvl2").innerText=state.upgrades.streamer;
}
function clickClip(){
  let multi=1+0.3*state.playBtns.length;
  state.clips+=Math.round(1*multi);
  save();
}
function clickTwitch(){
  let multi=1+0.3*state.playBtns.length;
  state.twitchSubs+=Math.round(1*multi);
  save();
}
function startCut(){
  let need=10;
  if(state.clipscut<need){alert("Mind. "+need+" Clips nötig!");return;}
  if(state.cut.cutting){return;}
  state.cut.cutting=true;
  let base=8000,cutLvl=state.upgrades.cutter,man=state.upgrades.manager;
  let dur=base/Math.pow(1.3,cutLvl)/(1+0.05*man);
  let prog=0,interval=30,steps=dur/interval;
  document.getElementById("cutprog").style.width="0%";
  let id=setInterval(()=>{
    prog++;
    document.getElementById("cutprog").style.width=(prog/steps*100)+"%";
    if(prog>=steps){
      clearInterval(id);
      state.cut.cutting=false;
      document.getElementById("uploadBtn").disabled=false;
      save();
    }
  },interval);
}
function uploadVid(){
  let name=document.getElementById("vidName").value||"Neues Video";
  let base=20+state.upgrades.cutter*5;
  let abos=base+Math.floor(Math.random()*base*1.2);
  abos=Math.round(abos*(1+0.12*state.videos.length));
  abos=Math.round(abos*(1+0.3*state.playBtns.length));
  // Lose Abos?
  let lose=0;if(Math.random()<0.2&&state.videos.length>3){lose=Math.floor(abos*0.2);}
  state.subs+=abos-lose;
  state.videos.push({name,subs:abos-lose});
  state.clipscut-=10;
  document.getElementById("uploadBtn").disabled=true;
  state.cut.vidName="";
  save();
}
function buy(tp){
  let cost=state.shop[tp];
  if(state.clips<cost)return;
  state.clips-=cost;
  state.upgrades[tp]++;
  // Exponentielles Wachstum
  let base=[30,25,50,100],fac=[1.7,1.75,1.8,2.2];
  state.shop[tp]=Math.round(base[["cutter","clicker","streamer","manager"].indexOf(tp)]*Math.pow(fac[["cutter","clicker","streamer","manager"].indexOf(tp)],state.upgrades[tp]));
  save();
}
function tick(){
  // Klicker
  let multi=1+0.3*state.playBtns.length,man=1+0.05*state.upgrades.manager;
  state.clips+=state.upgrades.clicker*Math.round(multi*man);
  // Cutter
  let cutSpeed=0.004*state.upgrades.cutter*man;
  if(state.clips>=10&&!state.cut.cutting&&state.upgrades.cutter>0){
    state.cut.cutting=true;
    let base=7000,cutLvl=state.upgrades.cutter,man=state.upgrades.manager;
    let dur=base/Math.pow(1.3,cutLvl)/(1+0.05*man);
    let prog=0,interval=30,steps=dur/interval;
    document.getElementById("cutprog").style.width="0%";
    let id=setInterval(()=>{
      prog++;
      document.getElementById("cutprog").style.width=(prog/steps*100)+"%";
      if(prog>=steps){
        clearInterval(id);
        state.cut.cutting=false;
        document.getElementById("uploadBtn").disabled=false;
        save();
      }
    },interval);
  }
  // Streamer
  state.twitchSubs+=state.upgrades.streamer*Math.round(multi*man);
  // Mehr Clips ins Cut-Menü?
  if(state.clips>=10&&!state.cut.cutting){
    state.clipscut+=10;state.clips-=10;
    save();
  }
  save();
}
setInterval(tick,1200);
load();
show();
</script>
</body>
</html>
